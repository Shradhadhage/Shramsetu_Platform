{% extends 'services/dashboard_base.html' %}

{% block content %}
<div class="dashboard-section" style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
    <h2 style="margin-bottom: 25px; color: #1e293b; border-bottom: 2px solid #f1f5f9; padding-bottom: 10px;">
        ⚙️ Profile Settings
    </h2>

    <form method="POST">
        {% csrf_token %}
        
        <div style="margin-bottom: 20px;">
            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #475569;">Full Name</label>
            <input type="text" name="full_name" value="{{ request.user.get_full_name }}" 
                   style="width: 100%; padding: 12px; border: 1px solid #e2e8f0; border-radius: 8px; background: #f8fafc;" readonly>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #475569;">Phone Number</label>
            <input type="text" name="phone" value="{{ profile.phone|default:'' }}" 
                   placeholder="Enter your phone number"
                   style="width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #475569;">Location / Address</label>
            <input type="text" name="location" value="{{ profile.location|default:'' }}" 
                   placeholder="Enter your city"
                   style="width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px;">
        </div>

        {% if profile.role == 'worker' %}
        <div style="margin-bottom: 25px;">
            <label style="display: block; font-weight: 600; margin-bottom: 8px; color: #475569;">Your Expertise/Skill</label>
            <select name="skill" style="width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 8px;">
                <option value="Plumber" {% if profile.skill == 'Plumber' %}selected{% endif %}>Plumber</option>
                <option value="Electrician" {% if profile.skill == 'Electrician' %}selected{% endif %}>Electrician</option>
                <option value="Painter" {% if profile.skill == 'Painter' %}selected{% endif %}>Painter</option>
                <option value="Carpenter" {% if profile.skill == 'Carpenter' %}selected{% endif %}>Carpenter</option>
                <option value="General" {% if profile.skill == 'General' %}selected{% endif %}>General Labor</option>
            </select>
        </div>
        {% endif %}

        <div style="display: flex; gap: 15px;">
            <button type="submit" style="background: #2563eb; color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: 600;">
                Save Changes
            </button>
            <a href="{% url 'dashboard' %}" style="background: #f1f5f9; color: #475569; padding: 12px 25px; border-radius: 8px; text-decoration: none; font-weight: 600;">
                Cancel
            </a>
        </div>
    </form>
</div>
{% endblock %}